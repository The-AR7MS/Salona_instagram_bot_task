# ربات فروش هوشمند اینستاگرام 🤖

یک ربات هوشمند برای پاسخگویی به دایرکت‌های اینستاگرام که با استفاده از Python و فریمورک FastAPI توسعه داده شده است 💡. این پروژه با بهره‌گیری از مدل زبان بزرگ (LLM) گوگل Gemini، قادر است به سؤالات کاربران در مورد محصولات به صورت هوشمند و مکالمه‌محور پاسخ دهد.

این پروژه نمونه‌ای کامل از ترکیب یک سیستم وب با سرویس‌های هوش مصنوعی مدرن برای ایجاد یک راه‌حل کاربردی در حوزه فروش و خدمات مشتریان است.

-----

## ویژگی‌ها و تکنولوژی‌ها ⚙️

  * **معماری RAG (Retrieval-Augmented Generation):** ربات ابتدا با جستجو در دیتابیس SQLite، محصولات مرتبط با سؤال کاربر را پیدا کرده و سپس اطلاعات به‌دست‌آمده را به همراه پرسش کاربر به مدل Gemini ارسال می‌کند تا پاسخی دقیق و مرتبط تولید شود 🧠.
  * **Backend:** توسعه‌یافته با فریمورک FastAPI برای ساخت API‌های سریع و مدرن 🚀.
  * **هوش مصنوعی:** اتصال به Google Gemini API برای درک منظور کاربر و تولید پاسخ‌های متنی به زبان فارسی.
  * **پایگاه داده:** استفاده از SQLite برای ذخیره‌سازی و مدیریت اطلاعات محصولات 💾.
  * **شبیه‌سازی محیط:** دارای یک endpoint برای شبیه‌سازی دریافت پیام دایرکت (`/simulate_dm`) جهت تست و توسعه آسان.

-----

## راهنمای راه‌اندازی پروژه 🛠️

برای اجرای این پروژه روی سیستم خود، مراحل زیر را دنبال کنید:

**۱. نصب پیش‌نیازها 📦:**

ابتدا مطمئن شوید که پایتون روی سیستم شما نصب است. سپس در پوشه اصلی پروژه، تمام کتابخانه‌های مورد نیاز را با دستور زیر نصب کنید:

```bash
pip install -r requirements.txt
```

**۲. تنظیم کلید API 🔑:**

فایل `.env` را باز کنید. شما باید کلید API شخصی خودتان را که از [Google AI Studio](https://aistudio.google.com/) دریافت کرده‌اید، به جای مقدار موجود برای `GEMINI_API_KEY` قرار دهید.

**۳. ساخت دیتابیس 🗃️:**

برای ایجاد و پر کردن دیتابیس محصولات، اسکریپت `db_setup.py` را یک‌بار اجرا کنید. این دستور یک پوشه `db` و فایل `app_data.sqlite` را در آن می‌سازد.

```bash
python db_setup.py
```

پس از اجرا، پیامی مبنی بر موفقیت‌آمیز بودن ساخت دیتابیس نمایش داده می‌شود. ✅

**۴. اجرای سرور ▶️:**

اکنون می‌توانید سرور FastAPI را با دستور زیر اجرا کنید.

```bash
uvicorn main:app --reload
```

-----

## نکته 📌

متن ورودی و خروجی این ربات در حال حاضر در قالب JSON است، زیرا این یک نسخه نیمه آماده برای تست عملکرد بک‌اند (Backend) ربات است و هنوز به دایرکت اینستاگرام متصل نشده است.

هر موقع که ربات به دایرکت متصل شود، به طور خودکار متن معمولی کاربر را به JSON تبدیل می‌کند، تمام مراحل بالا را طی کرده و در آخر یک متن فارسی هوشمند در دایرکت اینستاگرام به کاربر پاسخ می‌دهد. این فایل‌ها صرفاً برای تست عملکرد و نمایش پشت صحنه ربات هستند. 🕵️‍♂️

-----





## نحوه تست پروژه با JSON 🧪

پس از اجرای سرور، به طور خودکار به صفحه مستندات API هدایت می‌شوید.

1.  **پیدا کردن Endpoint 👉:** در صفحه‌ای که باز می‌شود، دنبال بخش `POST /simulate_dm` بگردید و روی آن کلیک کنید تا باز شود.
2.  **آماده‌سازی برای تست:** روی دکمه خاکستری رنگ "Try it out" در سمت راست کلیک کنید. با این کار، بخش "Request body" قابل ویرایش می‌شود.
3.  **وارد کردن JSON:** محتوای داخل کادر "Request body" را پاک کرده و یک JSON با ساختار زیر در آن قرار دهید.

    ```json
    {
      "sender_id": "user123",
      "message_id": "msg456",
      "text": "سلام، گوشی سامسونگ با باتری قوی چی دارید؟"
    }
    ```

      * `sender_id` و `message_id`: شناسه‌های فرضی برای فرستنده و پیام هستند.
      * `text`: این مهم‌ترین بخش است. اینجا سؤالی که می‌خواهید از ربات بپرسید را وارد کنید. ✍️

4.  **ارسال درخواست:** پس از وارد کردن JSON، روی دکمه آبی رنگ "Execute" کلیک کنید.
5.  **مشاهده نتیجه:** کمی پایین‌تر، در بخش "Server response"، می‌توانید پاسخی که ربات بر اساس سؤال شما تولید کرده است را مشاهده کنید. 🎉

## راهنمای تصویری تست ربات 📸
![Screenshot 1](https://github.com/The-AR7MS/Salona_instagram_bot_task/blob/main/Screenshot%202025-10-23%20084650.png)
![Screenshot 2](https://github.com/The-AR7MS/Salona_instagram_bot_task/blob/main/Screenshot%202025-10-23%20084714.png)
![Screenshot 3](https://github.com/The-AR7MS/Salona_instagram_bot_task/blob/main/Screenshot%202025-10-23%20084802.png)
![Screenshot 4](https://github.com/The-AR7MS/Salona_instagram_bot_task/blob/main/Screenshot%202025-10-23%20084923.png)
![Screenshot 5](https://github.com/The-AR7MS/Salona_instagram_bot_task/blob/main/Screenshot%202025-10-23%20084956.png)
